{"version":3,"file":"static/js/film-details-view.db27aa9a.chunk.js","mappings":"4NAAMA,EAAU,mCACVC,EAAW,+BAAjB,SAEeC,IAAAA,OAAAA,EAAAA,MAAAA,KAAAA,WAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,2GAAsCC,EAAtC,+BAA4C,GAAIC,EAAhD,+BAAyD,GAAzD,SACyBC,MAAMF,EAAKC,GADpC,YACQE,EADR,QAEkBC,GAFlB,iCAE6BD,EAASE,OAFtC,gDAE+CC,QAAQC,OAAO,IAAIC,MAAM,cAFxE,2GAUO,SAASC,EAAkBC,GAChC,OAAOX,EAAuB,GAAD,OAAID,EAAJ,kBAAsBY,EAAtB,oBAAyCb,IAajE,SAASc,EAAoBC,GAClC,OAAOb,EAAuB,GAAD,OACxBD,EADwB,+BACOc,EADP,oBACwBf,EADxB,2B,sHC3BlBgB,EAAeC,EAAAA,GAAAA,OAAH,ogBAoBZC,EAAoBD,EAAAA,GAAAA,MAAH,iE,SCjBf,SAASE,EAAT,GAAmC,IAAbC,EAAY,EAAZA,SAC/BC,GAAWC,EAAAA,EAAAA,MAIf,OACE,SAACN,EAAD,CAAcO,KAAK,SAASC,QAJb,WAAO,IAAD,IACrBH,EAAQ,iBAACD,QAAD,IAACA,GAAD,UAACA,EAAUK,aAAX,aAAC,EAAiBC,YAAlB,QAA0B,MAGlC,UACE,SAACR,EAAD,uB,aCNAS,GAAeC,EAAAA,EAAAA,OAAK,kBACxB,gCAGa,SAASC,IACtB,IAAMT,GAAWU,EAAAA,EAAAA,MACTC,GAAWC,EAAAA,EAAAA,MAAXD,OACR,GAAwBE,EAAAA,EAAAA,UAAS,MAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KAiBA,OAfAC,EAAAA,EAAAA,YAAU,WACRC,EAAAA,GAAsBR,GAAQS,KAAKL,KAClC,CAACJ,KAEJO,EAAAA,EAAAA,YAAU,WACR,GAAKJ,EAAL,CAIA,IAEMO,EAFMP,EAAKE,OAEIM,KAAI,SAAAC,GAAI,OAAIA,KAAMC,KAAK,MAC5CP,EAAUI,MACT,CAACP,KAGF,iCACE,SAACf,EAAD,CAAYC,SAAUA,KACtB,SAAC,EAAAyB,SAAD,CAAUC,UAAU,8CAApB,SACGZ,IAAQ,SAACP,EAAD,CAAcO,KAAMA,EAAME,OAAQA,OAE7C,SAAC,KAAD","sources":["services/Api.jsx","components/BackButton/BackButton.styled.js","components/BackButton/BackButton.jsx","views/FilmDetails/FilmDetails.jsx"],"sourcesContent":["const API_KEY = 'bffba07cef2d165abd193feceb46d279';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nasync function fetchWithErrorHandling(url = '', config = {}) {\n  const response = await fetch(url, config);\n  return response.ok ? await response.json() : Promise.reject(new Error('Not found'));\n}\n\nexport function FetchTrendingFilms() {\n  return fetchWithErrorHandling(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`);\n  // https://api.themoviedb.org/3/trending/movie/day?api_key=bffba07cef2d165abd193feceb46d279\n}\n\nexport function FetchFilmsDetails(movieId) {\n  return fetchWithErrorHandling(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`);\n  // https://api.themoviedb.org/3/movie/{movie_id}?api_key=bffba07cef2d165abd193feceb46d279&language=en-US\n}\nexport function FetchFilmsCredits(movieId) {\n  return fetchWithErrorHandling(`${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}`);\n  // https://api.themoviedb.org/3/movie/{movie_id}/credits?api_key=bffba07cef2d165abd193feceb46d279&language=en-US\n}\nexport function FetchFilmsReviews(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`,\n  );\n  // https://api.themoviedb.org/3/movie/{movie_id}/reviews?api_key=bffba07cef2d165abd193feceb46d279&language=en-US&page=1\n}\nexport function FetchSearchingFilms(query) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/search/movie?query=${query}&api_key=${API_KEY}&include_adult=false`,\n  );\n  // https://api.themoviedb.org/3/search/movie?api_key=bffba07cef2d165abd193feceb46d279&language=en-US&page=1&include_adult=false\n}\n","import styled from 'styled-components';\nexport const GoBackButton = styled.button`\n  display: inline-block;\n  width: auto;\n  height: 48px;\n  margin-top: 20px;\n  margin-bottom: 32px;\n  padding-left: 12px;\n  padding-right: 12px;\n  border: 0;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  -webkit-box-shadow: 0px 0px 30px 0px rgba(34, 60, 80, 0.2);\n  -moz-box-shadow: 0px 0px 30px 0px rgba(34, 60, 80, 0.2);\n  box-shadow: 0px 0px 30px 0px rgba(34, 60, 80, 0.2);\n  &:hover {\n    opacity: 1;\n  }\n`;\nexport const GoBackButtonLabel = styled.label`\n  font-size: 18px;\n  font-weight: 500;\n`;\n","import { useNavigate } from 'react-router-dom';\n\nimport { GoBackButton, GoBackButtonLabel } from './BackButton.styled';\n\nexport default function BackButton({ location }) {\n  let navigate = useNavigate();\n  const onGoBack = () => {\n    navigate(location?.state?.from ?? '/');\n  };\n  return (\n    <GoBackButton type=\"button\" onClick={onGoBack}>\n      <GoBackButtonLabel>RETURN</GoBackButtonLabel>\n    </GoBackButton>\n  );\n}\n","import { useState, useEffect, lazy, Suspense } from 'react';\nimport { Outlet, useParams, useLocation } from 'react-router-dom';\nimport BackButton from '../../components/BackButton/BackButton';\nimport * as Api from '../../services/Api';\n\nconst FilmDataCard = lazy(() =>\n  import('../../components/FilmDataCard/FilmDataCard' /* webpackChunkName: \"film-data-card\" */),\n);\n\nexport default function FilmDetails() {\n  const location = useLocation();\n  const { filmId } = useParams();\n  const [film, setFilm] = useState(null);\n  const [genres, setGenres] = useState('');\n\n  useEffect(() => {\n    Api.FetchFilmsDetails(filmId).then(setFilm);\n  }, [filmId]);\n\n  useEffect(() => {\n    if (!film) {\n      return;\n    }\n\n    let names = film.genres;\n\n    const string = names.map(name => name).join(', ');\n    setGenres(string);\n  }, [film]);\n\n  return (\n    <>\n      <BackButton location={location} />\n      <Suspense fallback={<h4>Loading film-data</h4>}>\n        {film && <FilmDataCard film={film} genres={genres} />}\n      </Suspense>\n      <Outlet />\n    </>\n  );\n}\n"],"names":["API_KEY","BASE_URL","fetchWithErrorHandling","url","config","fetch","response","ok","json","Promise","reject","Error","FetchFilmsDetails","movieId","FetchSearchingFilms","query","GoBackButton","styled","GoBackButtonLabel","BackButton","location","navigate","useNavigate","type","onClick","state","from","FilmDataCard","lazy","FilmDetails","useLocation","filmId","useParams","useState","film","setFilm","genres","setGenres","useEffect","Api","then","string","map","name","join","Suspense","fallback"],"sourceRoot":""}